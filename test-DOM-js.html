<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title></title>
	<link rel="stylesheet" href="validate.css">

</head>

<body>
	<form onsubmit="return validate()" method="get" id="target">
		<div id="fb">
			<input type="text" name="firstname" id="name" value="" placeholder="Họ">
		</div><br>
		<div>
			<input type="text" name="lastname" id="name" value="" placeholder="Tên">
		</div><br>
		<div>
			<input type="text" name="username" id="name" value="" placeholder="User Name">
		</div><br>
		<div>
			<input type="password" name="password" id="name" value="" placeholder="Password">
		</div><br>
		<div>
			<input type="text" name="email" id="name" value="" placeholder="Email">
		</div><br>
		<div>
			<select name="birthday_day" id="day" title="Ngày">
				<option value="0">Ngày</option>
				<option value="1" selected="1">1</option>
				<option value="2">2</option>
				<option value="3">3</option>
				<option value="4">4</option>
				<option value="5">5</option>
				<option value="6">6</option>
				<option value="7">7</option>
				<option value="8">8</option>
				<option value="9">9</option>
				<option value="10">10</option>
				<option value="11">11</option>
				<option value="12">12</option>
				<option value="13">13</option>
				<option value="14">14</option>
				<option value="15">15</option>
				<option value="16">16</option>
				<option value="17">17</option>
				<option value="18">18</option>
				<option value="19">19</option>
				<option value="20">20</option>
				<option value="21">21</option>
				<option value="22">22</option>
				<option value="23">23</option>
				<option value="24">24</option>
				<option value="25">25</option>
				<option value="26">26</option>
				<option value="27">27</option>
				<option value="28">28</option>
				<option value="29">29</option>
				<option value="30">30</option>
			</select>
			<select name="birthday_month" id="month" title="Tháng">
				<option value="0">Tháng</option>
				<option value="1" >Tháng 1</option>
				<option value="2">Tháng 2</option>
				<option value="3">Tháng 3</option>
				<option value="4">Tháng 4</option>
				<option value="5">Tháng 5</option>
				<option value="6">Tháng 6</option>
				<option value="7">Tháng 7</option>
				<option value="8">Tháng 8</option>
				<option value="9" selected="1">Tháng 9</option>
				<option value="10">Tháng 10</option>
				<option value="11">Tháng 11</option>
				<option value="12">Tháng 12</option>
			</select>
			<select name="birthday_year" id="year" title="Năm">
				<option value="0">Năm</option>
				<option value="2017" >2017</option>
				<option value="2016">2016</option>
				<option value="2015">2015</option>
				<option value="2014">2014</option>
				<option value="2013">2013</option>
				<option value="2012">2012</option>
				<option value="2011">2011</option>
				<option value="2010">2010</option>
				<option value="2009">2009</option>
				<option value="2008">2008</option>
				<option value="2007">2007</option>
				<option value="2006">2006</option>
				<option value="2005">2005</option>
				<option value="2004">2004</option>
				<option value="2003">2003</option>
				<option value="2002">2002</option>
				<option value="2001">2001</option>
				<option value="2000">2000</option>
				<option value="1999">1999</option>
				<option value="1998">1998</option>
				<option value="1997">1997</option>
				<option value="1996">1996</option>
				<option value="1995">1995</option>
				<option value="1994" selected="1">1994</option>
				<option value="1993">1993</option>
				<option value="1992">1992</option>
				<option value="1991">1991</option>
				<option value="1990">1990</option>
			</select>
		</div><br>
		<div>
			<input type="radio" name="sex" value="0">
			<label>Nam</label>
		</div>
		<div>
			<input type="radio" name="sex" value="1">
			<label>Nữ</label>
		</div>
		<div><br>
			<button type="submit">Submit</button>
		</div>
	</form>

	<script>
		function checkErr(thamso1, thamso2) {

			var errloi = document.createElement('loi');
			errloi.innerText = thamso2;
			errloi.style.color = "red";
			errloi.className = 'loi';
			thamso1.style.border = '1px solid red';
			thamso1.parentElement.appendChild(errloi);
		}
		function validate() {
			var numberError = document.getElementsByTagName('loi');
			const numberInput = document.getElementsByTagName('input')
			const firstNumberError = numberError.length;
			if (numberError != null) {
				for (i=0;i<5;i++){numberInput[i].style.border = '1px solid gray';};
				while (numberError != firstNumberError && numberError.length != 0) {
					numberError[0].remove(0);
				}
			}
			var firstname = document.querySelector('input[name=firstname]')
			var lastname = document.querySelector('input[name=lastname]')
			var username = document.querySelector('input[name=username]')
			var paw = document.querySelector('input[name=password]')
			var email = document.querySelector('input[name=email]')
			var checkemail = /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;
			var sex = document.querySelector('input[name=sex]')
			var flag = true;


			if (firstname.value == "") {
				flag = false;
				checkErr(firstname, "Vui Lòng Nhập Họ");

			}
			if (lastname.value == "") {
				flag = false;
				checkErr(lastname, "Vui lòng nhập tên");

			}
			if (username.value == "") {
				flag = false;
				checkErr(username, 'Vui lòng nhập username');
			} else if (username.value.length < 4) {
				flag = false;
				checkErr(username, "Tài Khoản phải từ 4 ký tự");
			}
			if (paw.value == "") {
				flag = false;
				checkErr(paw, 'Mời bạn nhập password');
			} else if (paw.value.length < 8) {
				flag = false;
				checkErr(paw, 'password phải từ 8 ký tự');
			}
			if (email.value == "") {
				flag = false;
				checkErr(email, "Vui lòng nhập Email");
			} else if (!checkemail.test(email.value)) {
				flag = false;
				checkErr(email, 'Email không đúng định dạng');
			}
			if (!sex.checked && !sex.checked) {
				flag = false;
				checkErr(sex, "sai");
			} else {
				alert("ok");
			}

			return false;
		}

	</script>
</body>

</html>
